<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Multi Estimator</title>

  <!-- BASE CSS -->
  <link rel="stylesheet" href="../assets/css/base/reset.css">
  <link rel="stylesheet" href="../assets/css/base/variables.css">
  <link rel="stylesheet" href="../assets/css/base/components.css">
  <link rel="stylesheet" href="../assets/css/base/layout.css">

  <!-- PAGE CSS -->
  <link rel="stylesheet" href="../assets/css/app/single.css">
  <link rel="stylesheet" href="../assets/css/app/multi.css">
</head>

<body>

<header class="site-header">
  <div class="container header-inner">
    <div class="brand"><a href="../index.html">Estimator</a></div>
    <div class="header-actions">
      <button id="darkToggleMulti" class="icon-btn">ðŸŒ“</button>
    </div>
  </div>
</header>

<main class="app-viewport">
  <div class="container page grid-single">

    <!-- LEFT PANEL -->
    <aside class="card halo left-panel">

      <div class="panel-title">Multi Estimator</div>

      <div class="search-wrap">

        <!-- SEARCH -->
        <label class="search-label">
          Cari Pekerjaan
          <input id="searchPekerjaanMulti" class="search-input"
            placeholder="Ketik nama pekerjaan..." autocomplete="off"/>
        </label>

        <!-- DROPDOWN -->
        <label class="dropdown-label" style="margin-top:14px;">
          Pilih Pekerjaan
          <select id="pekerjaanSelectMulti" class="dropdown"></select>
        </label>

        <!-- CONTROLS -->
        <div class="controls">
          <label>
            Volume
            <input id="volumeMulti" class="input-compact" type="number"
              step="0.01" min="0" value="1.00"/>
          </label>

          <button id="addItemMulti" class="btn primary" disabled>
            Tambah
          </button>
        </div>

      </div>

      <!-- LIST TITLE -->
      <div class="panel-title" style="margin-top:22px;">Daftar Pekerjaan</div>

      <!-- KERANJANG WRAPPER -->
      <div class="cart-container">

        <!-- TABLE -->
        <div class="table-wrap cart-scroll">
          <table class="table-premium" id="multiCartTable">
            <thead>
              <tr>
                <th class="col-name sticky-col">Nama Pekerjaan</th>
                <th class="col-qty">Volume</th>
                <th class="col-unit">Aksi</th>
              </tr>
            </thead>
            <tbody id="multiList"></tbody>
          </table>
        </div>

        <!-- ACTION BUTTONS -->
        <div class="cart-footer">
          <button id="exportMulti" class="btn secondary small">Export</button>
          <button id="clearMulti" class="btn danger small">Hapus Semua</button>
        </div>
      </div>

    </aside>

    <!-- RIGHT PANEL -->
    <section class="card halo right-panel">

      <div class="results-grid">

        <div class="results-block">
          <div class="results-title">Hasil - Bahan</div>
          <div class="table-wrap">
            <table class="table-premium" id="bahanTableMulti">
              <thead>
                <tr>
                  <th class="col-name sticky-col">Nama Bahan</th>
                  <th class="col-qty">Jumlah</th>
                  <th class="col-unit">Satuan</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div class="results-block">
          <div class="results-title">Hasil - Tenaga</div>
          <div class="table-wrap">
            <table class="table-premium" id="tenagaTableMulti">
              <thead>
                <tr>
                  <th class="col-name sticky-col">Nama Tenaga</th>
                  <th class="col-qty">Jumlah</th>
                  <th class="col-unit">Satuan</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

      </div>

    </section>

  </div>
</main>

<!-- POPUP EXPORT -->
<div id="exportPopup" class="popup hidden">
  <div class="popup-box">
    <div class="popup-title">Pilih Format Export</div>

    <div class="popup-actions">
      <button id="exportPDF" class="btn primary small">PDF</button>
      <button id="exportExcel" class="btn secondary small">Excel</button>
    </div>

    <button class="popup-close" id="closeExportPopup">Ã—</button>
  </div>
</div>

<!-- POPUP CONFIRM CLEAR -->
<div id="confirmClear" class="popup hidden">
  <div class="popup-box">
    <div class="popup-title">Hapus Semua?</div>
    <p>Semua item pekerjaan akan dihapus.</p>

    <div class="popup-actions">
      <button id="confirmClearYes" class="btn danger small">Hapus</button>
      <button id="confirmClearNo" class="btn secondary small">Batal</button>
    </div>

    <button class="popup-close" id="closeConfirmClear">Ã—</button>
  </div>
</div>

<script type="module">
  import { initTheme } from "../assets/js/core/theme.js";
  import { initMultiPRO } from "../assets/js/programs/multi.js";

  initTheme("#darkToggleMulti");
  initMultiPRO();
</script>

</body>
</html>
